<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í—ã—Å—Ç–∞–≤–æ—á–Ω—ã–π –∑–∞–ª ‚Ññ4</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        h1 {
            text-align: center;
            margin-bottom: 10px;
            color: #2c3e50;
        }

        .subtitle {
            text-align: center;
            color: #7f8c8d;
            margin-bottom: 25px;
        }

        .language-btn {
            display: flex;
            align-items: center;
            width: 100%;
            padding: 15px;
            margin: 10px 0;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .language-btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }

        .flag {
            font-size: 24px;
            margin-right: 15px;
        }

        .audio-player {
            margin-top: 20px;
            text-align: center;
        }

        audio {
            width: 100%;
            margin: 15px 0;
        }

        .back-btn {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            margin-top: 10px;
            transition: background 0.3s ease;
        }

        .back-btn:hover {
            background: #c0392b;
        }

        .hidden {
            display: none;
        }

        .loading {
            text-align: center;
            color: #3498db;
            font-style: italic;
            margin: 10px 0;
        }

        .success {
            text-align: center;
            color: #27ae60;
            margin: 10px 0;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –í—ã–±–æ—Ä —è–∑—ã–∫–∞ -->
        <div id="languageSelection">
            <h1>üéß –í—ã—Å—Ç–∞–≤–æ—á–Ω—ã–π –∑–∞–ª ‚Ññ4</h1>
            <p class="subtitle">–í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫ –∞—É–¥–∏–æ–≥–∏–¥–∞</p>

            <button class="language-btn" onclick="playAudio('–†—É—Å—Å–∫–∏–π', 'rus.mp3')">
                <span class="flag">üá∑üá∫</span>
                <span>–†—É—Å—Å–∫–∏–π</span>
            </button>

            <button class="language-btn" onclick="playAudio('English', 'eng.mp3')">
                <span class="flag">üá∫üá∏</span>
                <span>English</span>
            </button>

            <button class="language-btn" onclick="playAudio('–ë–µ–ª–∞—Ä—É—Å–∫–∞—è', 'bel.mp3')">
                <span class="flag">üáßüáæ</span>
                <span>–ë–µ–ª–∞—Ä—É—Å–∫–∞—è</span>
            </button>
        </div>

        <!-- –ê—É–¥–∏–æ–ø–ª–µ–µ—Ä -->
        <div id="audioPlayer" class="hidden">
            <h1 id="currentLanguage">–ê—É–¥–∏–æ—ç–∫—Å–∫—É—Ä—Å–∏—è</h1>

            <div class="loading" id="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –∞—É–¥–∏–æ...</div>
            <div class="success" id="success" style="display: none;">‚úÖ –ê—É–¥–∏–æ –≥–æ—Ç–æ–≤–æ –∫ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—é!</div>

            <audio controls id="audioElement">
                –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—É–¥–∏–æ —ç–ª–µ–º–µ–Ω—Ç.
            </audio>

            <button class="back-btn" onclick="showLanguageSelection()">
                ‚Üê –í—ã–±—Ä–∞—Ç—å –¥—Ä—É–≥–æ–π —è–∑—ã–∫
            </button>
        </div>
    </div>

    <script>
        // –ë–∞–∑–æ–≤—ã–π URL –¥–ª—è –∞—É–¥–∏–æ—Ñ–∞–π–ª–æ–≤
        const baseUrl = 'https://raw.githubusercontent.com/iezhik87/mus/refs/heads/main/';

        // –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ –∞—É–¥–∏–æ
        let currentAudio = null;

        function playAudio(language, filename) {
            console.log('–í—ã–±—Ä–∞–Ω —è–∑—ã–∫:', language, '–§–∞–π–ª:', filename);

            // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –∞—É–¥–∏–æ, –µ—Å–ª–∏ –æ–Ω–æ –µ—Å—Ç—å
            if (currentAudio) {
                currentAudio.pause();
                currentAudio.currentTime = 0;
                currentAudio = null;
            }

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É
            document.getElementById('loading').style.display = 'block';
            document.getElementById('success').style.display = 'none';

            // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º —ç–∫—Ä–∞–Ω—ã
            document.getElementById('languageSelection').classList.add('hidden');
            document.getElementById('audioPlayer').classList.remove('hidden');
            document.getElementById('currentLanguage').textContent = '–ê—É–¥–∏–æ—ç–∫—Å–∫—É—Ä—Å–∏—è –Ω–∞ ' + language;

            // –§–æ—Ä–º–∏—Ä—É–µ–º –ø–æ–ª–Ω—É—é —Å—Å—ã–ª–∫—É –Ω–∞ –∞—É–¥–∏–æ
            const audioUrl = baseUrl + filename;
            console.log('–ü–æ–ª–Ω–∞—è —Å—Å—ã–ª–∫–∞:', audioUrl);

            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∞—É–¥–∏–æ —ç–ª–µ–º–µ–Ω—Ç
            const audioElement = document.getElementById('audioElement');

            // –û—á–∏—â–∞–µ–º –∏ —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π source
            audioElement.innerHTML = '';
            const source = document.createElement('source');
            source.src = audioUrl;
            source.type = 'audio/mpeg';
            audioElement.appendChild(source);

            // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Å—ã–ª–∫—É –Ω–∞ —Ç–µ–∫—É—â–µ–µ –∞—É–¥–∏–æ
            currentAudio = audioElement;

            // –ó–∞–≥—Ä—É–∂–∞–µ–º –∞—É–¥–∏–æ
            audioElement.load();

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
            audioElement.addEventListener('loadeddata', function() {
                console.log('–ê—É–¥–∏–æ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã');
                document.getElementById('loading').style.display = 'none';
                document.getElementById('success').style.display = 'block';
            });

            audioElement.addEventListener('canplaythrough', function() {
                console.log('–ê—É–¥–∏–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≥—Ä—É–∂–µ–Ω–æ –∏ –≥–æ—Ç–æ–≤–æ –∫ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—é');
                document.getElementById('loading').style.display = 'none';
                document.getElementById('success').style.display = 'block';

                // –ü—ã—Ç–∞–µ–º—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏
                audioElement.play().catch(function(error) {
                    console.log('–ê–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –Ω–∞–∂–∞—Ç—å play');
                    document.getElementById('success').textContent = '‚úÖ –ù–∞–∂–º–∏—Ç–µ ‚ñ∂ –¥–ª—è –Ω–∞—á–∞–ª–∞ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è';
                });
            });

            audioElement.addEventListener('play', function() {
                document.getElementById('success').style.display = 'none';
            });

            audioElement.addEventListener('error', function(e) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∞—É–¥–∏–æ:', e);
                document.getElementById('loading').style.display = 'none';
                document.getElementById('success').style.display = 'none';
                alert('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∞—É–¥–∏–æ. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É.');
            });
        }

        function showLanguageSelection() {
            // –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏ —Å–±—Ä–∞—Å—ã–≤–∞–µ–º –∞—É–¥–∏–æ
            if (currentAudio) {
                currentAudio.pause();
                currentAudio.currentTime = 0;
                currentAudio = null;
            }

            // –û—á–∏—â–∞–µ–º source —á—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
            const audioElement = document.getElementById('audioElement');
            audioElement.innerHTML = '';
            audioElement.load(); // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º –ø—É—Å—Ç–æ–π –ø–ª–µ–µ—Ä

            // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫ –≤—ã–±–æ—Ä—É —è–∑—ã–∫–∞
            document.getElementById('languageSelection').classList.remove('hidden');
            document.getElementById('audioPlayer').classList.add('hidden');

            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è
            document.getElementById('loading').style.display = 'none';
            document.getElementById('success').style.display = 'none';
        }

        // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É –∫–ª–∞–≤–∏—à–∏ Escape
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                showLanguageSelection();
            }
        });

        // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞—É–¥–∏–æ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('beforeunload', function() {
            if (currentAudio) {
                currentAudio.pause();
                currentAudio.currentTime = 0;
            }
        });
    </script>
</body>

</html>


